@reference '$/app.css';

hgroup {
	@apply font-sc mb-4 ml-12 text-balance lowercase;
	& h1 {
		@apply text-2xl text-gray-800 underline;
	}
	& .author {
		@apply text-gray-800;
	}
}

.treebank.dialogue,
.treebank.prose {
	& > .body {
		@apply ml-12;
	}
}

.sentence-nbr {
	@apply mr-1 ml-2 inline-block font-sans text-sm text-gray-400 select-none;
	.speaker + .sentence > &,
	.body > .sentence:first-child > & {
		@apply -ml-0;
	}
	&:target {
		@apply bg-blue-50 text-blue-600 outline-1 outline-offset-1;
	}
	&::before {
		content: '[';
	}
	&::after {
		content: ']';
	}
}
.verse-nbr {
	@apply mx-1 inline-block font-sans text-sm text-gray-400 select-none;
	&:target {
		@apply bg-blue-50 text-blue-600 outline-1 outline-offset-1;
	}
	&::after {
		content: '|';
	}
}

.line-nbr {
	@apply mr-2 inline-block w-10 border-r-1 border-gray-100 pt-1 pr-1 text-right font-sans text-sm text-gray-400 select-none;
	&[n$='0'] {
		@apply bg-gray-50 text-gray-500;
	}
	&:target {
		@apply border-blue-200 bg-blue-50 text-blue-600;
	}
}

.line {
	text-indent: 3.5rem hanging;
	@apply leading-snug;
}

.speaker {
	@apply font-sc sticky -top-4 mt-2 bg-white text-sm text-gray-400 lowercase underline;
}
.treebank.verse .speaker {
	@apply ml-12;
}

blockquote {
	& .line-nbr {
		@apply mr-6;
	}
	& .line {
		& :not(.line-nbr) {
			@apply italic;
		}
		&:first-of-type ox-w:first-of-type {
			@apply relative;
			&::before {
				@apply absolute -left-4 text-2xl !font-normal text-gray-300;
				content: '“';
			}
		}
		&:last-of-type ox-w:last-of-type {
			@apply relative;
			&::after {
				@apply absolute -right-3 text-2xl !font-normal text-gray-300;
				content: '”';
			}
		}
	}
}

hr {
	@apply my-4 ml-20 w-48 border-gray-300;
	&:first-child,
	hgroup + & {
		@apply hidden;
	}
}
